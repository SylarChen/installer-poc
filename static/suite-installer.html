<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="css/installer.css">
    <link rel="stylesheet" href="css/hpe-font.css"/>
    <!--<script src="js/react.js"></script>
    <script src="js/react-dom.js"></script>
    <script src="js/browser.min.js"></script>-->
    <script src="js/jquery.min.js"></script>
    <!--   <script src="js/remarkable.min.js"></script>-->
    <style>
        body, html {
            width: 100%;
            height: 100%;
            min-width: 1000px;
            min-height: 600px;
            margin: 0px;
        }

        * {
            font-family: HPEMetricRegular;
        }

        .s-btn {
            border: 1px solid #01A982;
            width: 150px;
            height: 39px;
            background-color: white;
            outline: none;
            margin-right: 20px;
            margin-bottom: 10px;
            color: #01a982;
            font-size: 18px;
        }
    </style>
</head>

<body id="body">
<div id="center">
    <div id="nav">
        <div id="nav-title">
            <img id="nav-logo" src="img/hpe_logo.svg.png"/>
            <!--<img id="nav_band" src="hpe_logo.svg.png">-->
        </div>
        <div id="nav-hr"></div>

        <ul style="padding: 0px">
            <li class="menu-li">Intro</li>
            <li class="menu-li">Suite selection</li>
            <li class="menu-li">Summary</li>
        </ul>
    </div>


    <div id="section">
        <div id="section_main" align="center">
        </div>
        <div id="section_exp">

        </div>
    </div>


</div>

<div id="footer">
    <button id="next_btn" style="margin-top:20px;margin-right: 30px;" class="footer-button">Next &gt;</button>
    <button id="back_btn" style="margin-top:20px;margin-right: 30px;" class="footer-button">&lt; Back</button>
    <!--<button id="back_button" class="footer-button">< Back</button>-->
</div>
<script type="text/javascript">
    var initStep = "Intro";
    var iframeUrl = "";
    var loadInfro = function () {
        $("#section_main").children().remove();
        $("#section_main").append("<div style='width:90%;text-align:left'>"
                + "<h1>Welcome to HPE installer</h1>"
                + "<p>"
                + "explenation high level what is this installer, what shuold user expect in next stages."
                + "if There is a lot to explain, it will be divided to several parts, user can  read while waiting"
                + "</p>"
                + "<p>"
                + "This process is continual and may take time"
                + "more text explainig about stages and help tips..."
                + "</p>"
                + "<p>"
                + "Things you will need for next stages"
                + "knowing your liscence level"
                + "make sure you have HW requirements - memory, CPU, storage needed"
                + "</p>"
                + "</div>");
    }
    var loadChooseSuite = function () {
        $("#section_main").children().remove();
        $("#section_main").append(
                "<div style='width:90%;text-align:left'>"
                + "<h1>Choosing Suite</h1>"
                + "<div class='suiteDiv'><button class='s-btn'>ITSMA</button><button class='s-btn'>ITSMA2</button></div>"
                + "</div>");

    };


    loadInfro();
    $("#next_btn").click(function () {
        console.log(initStep == "Intro");
        if (initStep == "Intro") {
            console.log("next");
            initStep = "ChooseSuite";
            loadChooseSuite();
        } else if (initStep == "ChooseSuite") {
            initStep = "Capabilities";
            $("#section_main").children().remove();
            requestIframeUrl(function (url) {
                var iframeTpl = '<iframe id="mainFrame" name="mainFrame" width="100%" height="100%"  ' +
                        'frameborder="0" style="display: block; height: 987px;" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>';
                iframeUrl = window.document.location.origin + url;
                $(iframeTpl).appendTo("#section_main").prop('src', iframeUrl);
            });
        } else if (initStep == "Capabilities") {
            $("#mainFrame").prop('src', iframeUrl);
        }

    });
    $("#back_btn").click(function () {
        console.log(initStep);
        if (initStep == "ChooseSuite") {
            initStep = "Intro";
            loadInfro();
        } else if (initStep == "Capabilities") {
            initStep = "ChooseSuite";
            loadChooseSuite();
        }

    });
    window.onload = function () {
        resizeComponent();
    }
    window.onresize = function () {
        resizeComponent();
    }
    function resizeComponent() {
        $("#section").width($(body).width() - 400);
    }


    function requestIframeUrl(cb) {
        $.ajax({
            url: '/suiteinstaller/createPod',
            type: 'get',
            success: function (data) {
                //var res = JSON.parse(data);
                cb("/suiteConfig/configuration.html");
            },
            error: function (res) {
                alert('ERROR:' + res.statusText);
            }
        });
    }
</script>

</body>

</html>